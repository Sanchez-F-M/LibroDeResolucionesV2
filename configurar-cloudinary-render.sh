#!/bin/bash

# Script para configurar Cloudinary en producci√≥n (Render)
# filepath: c:\Users\flavi\OneDrive\Escritorio\LibroDeResolucionesV2\configurar-cloudinary-render.sh

echo "üå©Ô∏è  CONFIGURACI√ìN DE CLOUDINARY PARA RENDER"
echo "=========================================="
echo ""

echo "üìã PASOS PARA CONFIGURAR CLOUDINARY:"
echo ""

echo "1. üìù CREAR CUENTA EN CLOUDINARY:"
echo "   - Ve a https://cloudinary.com/"
echo "   - Crea una cuenta gratuita"
echo "   - Anota los siguientes datos del Dashboard:"
echo "     * Cloud Name"
echo "     * API Key"
echo "     * API Secret"
echo ""

echo "2. ‚öôÔ∏è  CONFIGURAR VARIABLES EN RENDER:"
echo "   - Ve a tu Web Service en Render"
echo "   - Entra a 'Environment'"
echo "   - Agrega las siguientes variables:"
echo ""
echo "   Variable: CLOUDINARY_CLOUD_NAME"
echo "   Value: [tu_cloud_name_de_cloudinary]"
echo ""
echo "   Variable: CLOUDINARY_API_KEY"
echo "   Value: [tu_api_key_de_cloudinary]"
echo ""
echo "   Variable: CLOUDINARY_API_SECRET"
echo "   Value: [tu_api_secret_de_cloudinary]"
echo ""
echo "   Variable: NODE_ENV"
echo "   Value: production"
echo ""

echo "3. üóÉÔ∏è  VARIABLES DE BASE DE DATOS POSTGRES (si no est√°n configuradas):"
echo "   Variable: DATABASE_URL"
echo "   Value: [tu_postgres_url_de_render]"
echo ""
echo "   O individualmente:"
echo "   Variable: DB_HOST"
echo "   Value: [tu_postgres_host]"
echo ""
echo "   Variable: DB_PORT"
echo "   Value: 5432"
echo ""
echo "   Variable: DB_NAME"
echo "   Value: libro_resoluciones"
echo ""
echo "   Variable: DB_USER"
echo "   Value: libro_resoluciones_user"
echo ""
echo "   Variable: DB_PASSWORD"
echo "   Value: [tu_password_de_postgres]"
echo ""

echo "4. üîë OTRAS VARIABLES IMPORTANTES:"
echo "   Variable: JWT_SECRET_KEY"
echo "   Value: [una_clave_secreta_segura_de_64_caracteres]"
echo ""
echo "   Variable: FRONTEND_URL"
echo "   Value: https://libro-de-resoluciones-v2-9izd-fe0i5ihfg.vercel.app"
echo ""
echo "   Variable: PORT"
echo "   Value: 10000"
echo ""

echo "5. üöÄ DESPLEGAR:"
echo "   - Guarda las variables"
echo "   - Render redesplegar√° autom√°ticamente"
echo "   - Las im√°genes ahora se guardar√°n en Cloudinary"
echo "   - Los datos persistir√°n entre redespliegues"
echo ""

echo "6. ‚úÖ VERIFICAR:"
echo "   - Crea una nueva resoluci√≥n con im√°genes"
echo "   - Verifica que las im√°genes se muestren correctamente"
echo "   - Redespliega manualmente desde Render"
echo "   - Verifica que las im√°genes sigan funcionando"
echo ""

echo "üìñ BENEFICIOS DE CLOUDINARY:"
echo "   ‚úÖ Almacenamiento persistente (no se pierde en redespliegues)"
echo "   ‚úÖ Optimizaci√≥n autom√°tica de im√°genes"
echo "   ‚úÖ CDN global para carga r√°pida"
echo "   ‚úÖ Transformaciones autom√°ticas (resize, calidad)"
echo "   ‚úÖ Soporte para m√∫ltiples formatos"
echo ""

echo "‚ö†Ô∏è  IMPORTANTE:"
echo "   - En desarrollo local, seguir√° usando almacenamiento local"
echo "   - En producci√≥n, usar√° Cloudinary autom√°ticamente"
echo "   - La aplicaci√≥n detecta el entorno autom√°ticamente"
echo ""

echo "üîß Si tienes problemas:"
echo "   1. Verifica que todas las variables est√©n configuradas"
echo "   2. Revisa los logs de Render para errores"
echo "   3. Confirma que la cuenta de Cloudinary est√© activa"
echo ""
