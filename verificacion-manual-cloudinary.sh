#!/bin/bash

echo "üîç VERIFICACI√ìN MANUAL DE CLOUDINARY"
echo "===================================="
echo ""

echo "üìä M√©todo 1: Verificar en Dashboard de Render"
echo "============================================="
echo "1. Ve a: https://dashboard.render.com"
echo "2. Selecciona: libroderesoluciones-api"
echo "3. Ve a: Environment"
echo "4. Busca estas variables:"
echo "   - CLOUDINARY_CLOUD_NAME"
echo "   - CLOUDINARY_API_KEY"
echo "   - CLOUDINARY_API_SECRET"
echo ""
echo "‚úÖ Si las 3 variables est√°n configuradas ‚Üí Cloudinary ACTIVO"
echo "‚ùå Si falta alguna variable ‚Üí Usando almacenamiento local"
echo ""

echo "üìÇ M√©todo 2: Verificar en Cloudinary Dashboard"
echo "=============================================="
echo "1. Ve a: https://cloudinary.com/console"
echo "2. Ve a: Media Library"
echo "3. Busca carpeta: libro-resoluciones"
echo "4. Si hay im√°genes ‚Üí El sistema est√° subiendo a Cloudinary"
echo ""

echo "üîç M√©todo 3: Verificar comportamiento del upload"
echo "==============================================="
echo "En tu aplicaci√≥n web:"
echo "1. Ve a la secci√≥n de cargar resoluciones"
echo "2. Sube una imagen"
echo "3. Inspecciona la URL de la imagen:"
echo ""
echo "‚úÖ Si la URL es algo como:"
echo "   https://res.cloudinary.com/tu-cloud-name/image/upload/..."
echo "   ‚Üí Cloudinary FUNCIONANDO"
echo ""
echo "‚ùå Si la URL es algo como:"
echo "   https://libroderesoluciones-api.onrender.com/uploads/..."
echo "   ‚Üí Usando almacenamiento local"
echo ""

echo "üìã M√©todo 4: Verificar logs del servidor"
echo "========================================"
echo "En el dashboard de Render:"
echo "1. Ve a: Logs"
echo "2. Busca al inicio del log:"
echo ""
echo "‚úÖ Si ves: 'üìÅ Usando Cloudinary para uploads'"
echo "   ‚Üí Cloudinary configurado"
echo ""
echo "‚ùå Si ves: 'üìÅ Usando almacenamiento local para uploads'"
echo "   ‚Üí Cloudinary NO configurado"
echo ""

echo "üîß CONFIGURAR CLOUDINARY EN RENDER"
echo "=================================="
echo ""
echo "Si Cloudinary NO est√° configurado:"
echo ""
echo "1. Ve a: https://cloudinary.com/console"
echo "2. Copia estas credenciales:"
echo "   - Cloud Name"
echo "   - API Key"
echo "   - API Secret"
echo ""
echo "3. Ve a: https://dashboard.render.com"
echo "4. Selecciona: libroderesoluciones-api"
echo "5. Ve a: Environment"
echo "6. Agrega estas variables:"
echo ""
echo "   CLOUDINARY_CLOUD_NAME=tu-cloud-name"
echo "   CLOUDINARY_API_KEY=tu-api-key"
echo "   CLOUDINARY_API_SECRET=tu-api-secret"
echo ""
echo "7. Guarda cambios"
echo "8. El servidor se redesplegar√° autom√°ticamente"
echo ""

echo "‚è∞ VERIFICACI√ìN AUTOM√ÅTICA EN 2 MINUTOS"
echo "======================================="
echo ""
echo "Una vez que Render termine el deploy, ejecuta:"
echo "curl https://libroderesoluciones-api.onrender.com/api/cloudinary/status"
echo ""
echo "O ejecuta el script completo:"
echo "bash verificar-cloudinary.sh"
